# 主从同步
## CAP
Redis 不保证 一致性 ,只保证最终一致性
## 增量同步
主节点将相关指令保存到内存的一个环状Buff中,如果没有及时同步会出现复写旧的指令
## 快照同步
> 新的从节点会进行一次快照同步
主节点先进行bgsave,然后将快照文件传送到从节点,然后再追赶增量同步
## 死循环
如果buffer太小会导致 一直进行快照同步,无法正常使用增量同步追赶

# Sentinel/哨兵
TODO
# Cluster
Cluster 将数据划分为 16384 个 slots,每个节点负责一部分槽位
## 槽位确定
对key进行crc32算法hash后对16384取模