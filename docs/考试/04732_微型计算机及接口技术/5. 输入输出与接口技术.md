# 输入输出与接口技术
接口是CPU与内存及CPU与外部设备之间通过总线进行连接的逻辑部件(电路)。

## 接口的功能
* 作为微机与IO设备传递数据的缓冲
* 正确寻址与微机交换数据的IO设备
* 信号转换功能
* 提供微机与IO设备之间交换数据所需的控制逻辑和状态信号
* 总是IO接口就是完成数据，地址和控制三总线的转换和连接任务

## IO统一编址
把一个端口视为一个存储器单元，并赋予相应的存储器地址，CPU访问端口
如同访问存储器。
## IO 独立编址
将IO端口单独编址而不和存储空间混合在一起，即二者的地址空间是互相独立的，
IO接口不会影响存储器的地址空间，CPU访问IO端口必须采用专用的IO指令，
所以也叫 __专用IO指令方式__


## 74LS373 锁存器 Latch
* 8个D触发器组成
* 一个锁存使能端LE
* 一个输出允许端OE#

8086 需要在T1阶段通过锁存信号将 __地址信息__ 锁存到锁存器中。

## 74LS244 缓冲器 Buffer
* 8个输入输出端口分为两组
* 1G# 控制第一组 2G# 控制第二组

主要用于三态输出的存储器地址驱动器，时钟驱动器总线定向接收器

## 74LS245 数据收发器
* 8路同项三态双向总线收发器
* 两组8位输入输出端
* 一个使能G#
* 和一个方向控制端DIR DIR低电平 B输入，高电平 A输入


## 输入输出数据传送的控制方式
* 无条件传送方式
* 程序查询方式(条件传送方式)
* 中断传送方式
* 直接存储器存取方式 DMA
* IO通道方式
* IO处理机方式

## DMA
DMA方式是用硬件实现存储器和存储器之间, 存储器和IO设备之间之间进行高速数据传送, 不需要CPU的干预,
减少了中间环节,极大提高了传送速度

* DMA 读传送: 存储器 -> IO设备
* DMA 写传送: IO设备 -> 存储器
* 存储单元传送: 存储器 -> 存储器


* IO设备向DMAC发出DMA请求
* DMAC在接受到设备发出的DMA请求后,向CPU发送总线请求,
* CPU在执行完当前指令的当前总线周期后, 向DMAC发出总线响应信号
* CPU脱离总线
* DMAC想IO设备发出DMA应答
* .......
* CPU恢复总线的控制,继续执行被DMAC中断的,当前指令的当前总线周期


## DMA操作类型
* 数据传送
* 数据校验
* 数据检索

## DMA 操作方式
* 单字节操作方式
* 连续操作方式
* 请求操作方式
* 级连传送方式