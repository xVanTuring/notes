# 数据通信基础
![通信系统模型](./img/通信系统模型.png)
## 1. 数据通信的基本概论
* **信息**是对事物状态或存在方式的不确定性表述。信息可以度量，其大小与消息的不确定性，即概率成反比。
* **通信的本质**就是在一点精确或近似地再生另一点的信息
* 信号：在通信系统特别是电通信系统，传递信息需要有适合的载体在传输通道中传播，这个载体就是信号
* **数据**是对客观事物的性质状态及相互关系等进行记载的物理符号及其组合，可以是数字、文字和图像等
* 通信系统: 能过实现通信功能的各种技术、设备和方法的总体被称为通信系统
    * 通信系统可以分为*模拟通信系统*和*数字通信系统*，区别在于信道中传输的是模拟信号还是数字信号
    * **数字通信系统**指的是信道中传输的信号是离散的*数字*信号
    * **数据通信系统**在信源和信宿端处理的是二进制数据，但是在信道传输的既可以是模拟信号也可以是数字信号

## 2. 数据传输方式
* 方向划分
    * 单向/单工通信
    * 双向交替通信/半双工通信：无线电对讲机
    * 双向同时通信/全双工通信
* 数据传输方式分为：并行通信、串行通信
* 同步通信、异步通信
    * 异步：以字符为单位发送，无需同步时钟信号，使用起始位和停止位，无数据一直发停止位
    * 同步：以数据块为单位发送，需要建立同步时钟，数据块使用起始标志和结束标志
* 基带传输、频带传输
    * 以计算机作为信源的原始数据信号称为**基本频带信号**，用固定的高低电平来表示二进制数字 1 或者 0 ，简称基带信号
    * 基带传输：直接在信道中传输基带信号
    * 以太网、令牌环网等计算机局域网都是采用基带传输
    * 频带传输：在信道中传送从经过调制的*载波信号*实现将基带信号所携带的信息传送出去的方式
    * 调制方式：调幅、调频、调相

## 3. 数据通信系统的性能
* 指标：有效性、可靠性、适应性、经济性、可维护性
* 通信系统系统有效性指标：带宽（模拟系统）、码元速率、信息速率和频带利用率（数字系统）
* 码元：在数字系统中，通常用时间间隔相同的符号来表示一个离散值，这样的时间间隔内的信号称之为码元
* 可靠性指标：信噪比（模拟系统）、误码率（数字系统）
    * 信噪比：模拟通信系统中，可靠性使用信噪比**即接收端最终输出有用信号的功率和噪声功率的比值来度量**

### 码元速率 $R_B$
即波特率 单位为波特 Baud ，若码元长度为 $T(s)$，则
$$R_B = 1/T$$

### 信息速率 $R_b$
即比特率，即每秒传送的二进制比特数，单位为比特/秒，
规定一个二进制码元含1bit信息，则一个四进制码元携带2bit数据量，一个M进制码元携带$log_2M$比特信息量，有如下换算关系
$$R_b=R_Blog_2M$$

某八进制信号，码元速率为 1200Baud 则，信息速率为 3600bit/s
### 频带利用率 
反映信道带宽的占用情况
$$\eta=\frac{R_b}{B}$$
或
$$\eta=\frac{R_B}{B}$$
其中 B 为数字通信系统的信号带宽

### 误码率和误比特率
1. 误码率是接收到的错误码元数载所传输的总码元数中所占的比例
2. 误信率是指接收到的错误比特数在所传输的总比特数中所占的比例
$$P_e=\frac{N_e}{N}$$
其中$N$为传输码元总数、$N_e$为错误码元数
$$P_b=\frac{N_e^b}{N^b}$$
其中$N^b$为传输比特总数、$N_e^b$为错误比特数

### 信道极限容量
根据香农公式，单位为 (bit/s)
$$C=Wlog_2(1+S/N)$$
其中 C为极限信息传输速率，W为信道的带宽，
S为信道内所传信号的平均功率，N为信道内的高斯噪声功率
## 4. 传输信道
1. 信道是通信系统中连接发送端与接受端的通信设备，实现从发送端到接受端的信号传送
2. 有线信道：架空明线、双绞线、同轴电缆、光纤
3. 架空明线是平行且相互分离或绝缘的架空裸线线路
4. 双绞线主要用于基带传输
5. 光纤分为单模光纤和多模光纤
6. 无线信道利用电磁波在空间的传播来传输信号
7. 电磁波又可以分为 视线传播、地波、天波（电离层反射波）


## 5. 数据通信中的编码
* 载波 carrier wave：通常把能在模拟信道中传输的模拟信号称为载波，一般表述为
$$y(t)=Asin(\omega t+\varphi)$$
其中 A 为振幅、$\omega$ 为频率、 $\varphi$ 为模拟信号的初始相位 
* 调制：的基本思想是通过载波信号的振幅、频率、初始相位这三个参数的变化来表示0和1两种符号，从而将原始的二进制数据变换成数字脉冲序列从而实现基带传输的方法
  * ASK 振幅键控，容易实现，抗干扰能力差
  * FSK 频移键控，容易实现，抗干扰能力强
  * PSK 相移键控
  * QAM 正交振幅调制
  * OFDM 正交频分复用
* 常见基带传输时，数字数据编码所使用的信号码型：单极不归零码NRZ，双极不归零码、单极归零码RZ、双极归零码、差分码、双相码、多元码（P43）
### 模拟信号转数字信号并进行传输流程
* 将模拟信号转换为数字信号 （A/D转换）
* 将数字信号基带传输或调制传输
* 将数字信号还原成模拟信号（D/A转换）
### 抽样定理
* 如果模拟信号范围为 $f_l - f_h$，则信号带宽为$B=f_h-f_l$,如果 $B>f_l$则为低通信号，即范围大于低频，否则则为带通信号
* 低通抽样定理

以频率$f_s \ge 2f_h$ 即抽样间隔为$T\le \frac{1}{2f_h}$ 时抽样则信号抽样值完全确定，能够还原。 $f_s = 2f_h$ 称之为奈奎斯特速率，对应的抽样间隔为奈奎斯特时间间隔

* 带通抽样定理
$$f_s = 2B(1+\frac{k}{n})$$
其中 B 为 信号带宽，n 为$\frac{f_h}{B}$的整数部分 k为$\frac{f_h}{B}$ 的小数部分，$f_s$为能够被还原的最小抽样频率

### PCM （P47）
* 采样：根据抽样定理操作
* 量化：把幅度上连续的抽样信号进行幅度离散化
    * 均匀量化：等间隔分割取值域
    * 非均匀量化：非等间隔，随着抽样值的不同二不同
* 非均匀量化
    * A 律压缩和A 律压缩13折线 中国和欧洲
    * $\mu$律压缩和 $\mu$律 15 折线 美国和日本
* 编码：采样信号经过量化后形成了有限个信号电平，将这些电平用二进制码组表示的过程称之为编码
    * 自然二进制码
    * 折叠二进制码
    * 格雷二进制码
    * 在语音通信中一般采用 8 位PCM编码

## 6. 复用技术
* 频分多路复用 FDM
* 时分多路复用 TDM，可以细分为 同步～STDM和异步～ATDM
    * 便于信号数字化，实现数字通信
    * 制造调试容易，更适合采用集成电路实现
    * 生成成本较低，具有价格优势
    * 应用：时分制多路电话通信系统
* 波分多路复用 WDM：光纤通讯中常用
* 码分多路复用 CDM：使用更长的相互正交的码组分别编码各路原始信息的每个码元，使得编码之后的信号在同一个信道中混合传输，接受端利用码组的正交特性分离各路信号。（P55）

## 7. 差错控制技术
* 香农信道编码定理是数据通信差错控制的理论基础
### 差错控制
* 检错重发：发送端进行差错编码，接受端检测，出错接受端请求重发，所以也叫 ARQ 自动请求重传
    * 停止等待 ARQ
    * 回退 N 步 ARQ
    * 选择性重传 ARQ
* 前向纠错：接受端可以定位到错误并直接纠正
* 反馈校验：接受端返回接收到的数据，发送端比对
* 检错丢弃：不纠错，直接丢弃
### 差错编码
* 划分 P59
    * 检错/纠错能力：检错码和纠错码
    * 数据信息与差错编码冗余信息关系：线性码（满足线性关系）和非线性码
    * 分组映射关系划分：分组码和卷积码
    * 数据信息在编码后是否变化：系统码和非系统码
    * 检错/纠错类型：随机错误检测/纠错码和突发错误检测/纠错码
## 8. 交换技术
* 数据通信的根本目的是 在发送端和接收端之间实现相互的数据传输和信息交换
* 常见交换方式
    * 电路交换方式
    * 存储-转发交换方式：又可以分为报文交换和分组交换
* 电路交换流程
    * 建立电路
    * 传输数据
    * 拆除电路
* 报文交换不需要建立连接
* 20世纪40年代的电报系统使用的是存储-转发原理的报文交换
* 分组交换： 1964年8月巴兰提出
    * 数据报分组交换：无连接，数据包顺序不一定
    * 虚电路分组交换：面向连接的，数据包顺序保持一致，无需排序。X.25、帧中继、异步传输模式ATM
    * 本质差别：是将差错控制、顺序控制、流量控制等通信功能交由通信子网完成还是端系统来完成